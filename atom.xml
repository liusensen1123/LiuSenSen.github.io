<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://liusensen1123.github.io/LiuSenSen.github.io/</id>
    <title>LiuSenSen</title>
    <updated>2022-08-11T09:40:23.148Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://liusensen1123.github.io/LiuSenSen.github.io/"/>
    <link rel="self" href="https://liusensen1123.github.io/LiuSenSen.github.io/atom.xml"/>
    <subtitle>æ¸©æ•…è€ŒçŸ¥æ–°</subtitle>
    <logo>https://liusensen1123.github.io/LiuSenSen.github.io/images/avatar.png</logo>
    <icon>https://liusensen1123.github.io/LiuSenSen.github.io/favicon.ico</icon>
    <rights>All rights reserved 2022, LiuSenSen</rights>
    <entry>
        <title type="html"><![CDATA[ä½¿ç”¨GamePlayTagç»‘å®šUE5å¢å¼ºè¾“å…¥]]></title>
        <id>https://liusensen1123.github.io/LiuSenSen.github.io/post/shi-yong-gameplaytag-bang-ding-ue5-zeng-qiang-shu-ru/</id>
        <link href="https://liusensen1123.github.io/LiuSenSen.github.io/post/shi-yong-gameplaytag-bang-ding-ue5-zeng-qiang-shu-ru/">
        </link>
        <updated>2022-08-11T08:38:49.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ä»‹ç»">ä»‹ç»</h1>
<p>å°†ä½¿ç”¨UE5ç¬¬ä¸€äººç§°æ¨¡æ¿å’Œå¢å¼ºè¾“å…¥ç³»ç»Ÿç»„åˆä¸€ä¸ªç®€å•çš„è¾“å…¥ç³»ç»Ÿã€‚æœ¬æ–‡ç« ä¸æ˜¯æ·±å…¥æ¢è®¨å¢å¼ºå‹è¾“å…¥ç³»ç»Ÿæˆ–ä¸€èˆ¬è¾“å…¥è®¾è®¡ï¼Œè€Œæ˜¯ä½œä¸ºç†è§£åŸºæœ¬æ¦‚å¿µçš„è‰¯å¥½èµ·ç‚¹ã€‚</p>
<h1 id="é¡¹ç›®è®¾ç½®">é¡¹ç›®è®¾ç½®</h1>
<p>åˆ›å»ºç¬¬ä¸€äººç§°æ¨¡æ¿é¡¹ç›®ï¼Œåˆ›å»ºå®Œæˆååœ¨æ’ä»¶èœå•æ å¯åŠ¨<code>EnhancedInpuy</code>æ’ä»¶ã€‚</p>
<h1 id="gameplaytagå’Œèµ„äº§ç®¡ç†å™¨">GameplayTagå’Œèµ„äº§ç®¡ç†å™¨</h1>
<h2 id="gameplaytagè®¾ç½®">GameplayTagè®¾ç½®</h2>
<p>æˆ‘ä»¬å°†ä½¿ç”¨GameplayTagä½œä¸ºä»£ç å’Œç¼–è¾‘å™¨ä¹‹é—´çš„æ¡¥æ¢ï¼Œåœ¨ä»£ç ä¸­å¼•ç”¨æ ‡ç­¾è¿›è¡Œè¾“å…¥ç»‘å®šï¼Œåœ¨ç¼–è¾‘å™¨ä¸­é€šè¿‡æ•°æ®èµ„äº§è¿›è¡Œè¾“å…¥é…ç½®ã€‚é¦–å…ˆåˆ›å»ºä¸€ä¸ªå•ä¾‹æ¥ä¿å­˜GameplayTagsã€‚åœ¨riderä¸­åˆ›å»ºä¸€ä¸ªç©ºç±»ï¼Œå‘½å<code>MyGameplayTags.h</code>ï¼Œåœ¨<code>MyGameplayTags.h</code>ä¸­åˆ—å‡ºæ ‡ç­¾çš„å®šä¹‰å’Œä¸€äº›è¾…åŠ©çš„å‡½æ•°ã€‚</p>
<h3 id="mygameplaytagsh">MyGameplayTags.h</h3>
<pre><code class="language-c++">// Copyright Epic Games, Inc. All Rights Reserved.

#pragma once

#include &quot;CoreMinimal.h&quot;
#include &quot;GameplayTagContainer.h&quot;

class UGameplayTagsManager;

/**
 * MyGameplayTags
 *
 * æ¸¸æˆæ ‡ç­¾çš„å•ä¾‹
 */
struct FMyGameplayTags
{
public:

   static const FMyGameplayTags&amp; Get() { return GameplayTags; }

   static void InitializeNativeTags();

   //è¾“å…¥æ ‡ç­¾
   FGameplayTag InputTag_Move;
   FGameplayTag InputTag_Look_Mouse;
   FGameplayTag InputTag_Look_Stick;
   FGameplayTag InputTag_Jump;
   FGameplayTag InputTag_Fire;

protected:

   //ä½¿ç”¨ GameplayTags Manager æ³¨å†Œæ‰€æœ‰æ ‡ç­¾
   void AddAllTags(UGameplayTagsManager&amp; Manager);

   //æ³¨å†Œä¸€ä¸ªæ ‡ç­¾
   void AddTag(FGameplayTag&amp; OutTag, const ANSICHAR* TagName, const ANSICHAR* TagComment);

private:

   static FMyGameplayTags GameplayTags;
};
</code></pre>
<h3 id="mygameplaytagscpp">MyGameplayTags.cpp</h3>
<p>è·å– GameplayTagsManager å¹¶æ·»åŠ éœ€è¦çš„æ ‡ç­¾ã€‚åœ¨ä»£ç ä¸­ä½¿ç”¨è¿™äº›æ ‡ç­¾æ¥ç»‘å®šå®é™…çš„å­—ç¬¦å‡½æ•°ï¼Œè¿˜å°†åœ¨ç¼–è¾‘å™¨ä¸­ä½¿ç”¨å®ƒä»¬æ¥é…ç½®è¾“å…¥ç»‘å®šã€‚<strong>æ³¨æ„ï¼šåœ¨Build.csæ–‡ä»¶ä¸­æ·»åŠ GameplayTagsï¼›</strong></p>
<pre><code class="language-c++">#include &quot;MyGameplayTags.h&quot;
#include &quot;GameplayTagsManager.h&quot;
#include &quot;Engine/EngineTypes.h&quot;

FMyGameplayTags FMyGameplayTags::GameplayTags;

void FMyGameplayTags::InitializeNativeTags()
{
   UGameplayTagsManager &amp; GameplayTagsManager =  UGameplayTagsManager::Get();

   GameplayTags.AddAllTags(GameplayTagsManager);

   //GameplayTagsManager.DoneAddingNativeTags();
}

void FMyGameplayTags::AddAllTags(UGameplayTagsManager&amp; Manager)
{
   AddTag(InputTag_Move, &quot;InputTag.Move&quot;, &quot;Move input.&quot;);
   AddTag(InputTag_Look_Mouse, &quot;InputTag.Look.Mouse&quot;, &quot;Look (mouse) input.&quot;);
   AddTag(InputTag_Look_Stick, &quot;InputTag.Look.Stick&quot;, &quot;Look (stick) input.&quot;);
   AddTag(InputTag_Jump, &quot;InputTag.Jump&quot;, &quot;Jump input&quot;);
   AddTag(InputTag_Fire, &quot;InputTag.Fire&quot;, &quot;Fire input.&quot;);
}

void FMyGameplayTags::AddTag(FGameplayTag&amp; OutTag, const ANSICHAR* TagName, const ANSICHAR* TagComment)
{
   OutTag = UGameplayTagsManager::Get().AddNativeGameplayTag(FName(TagName), FString(TEXT(&quot;(Native) &quot;)) + FString(TagComment));
}
</code></pre>
<h2 id="èµ„äº§ç®¡ç†å™¨">èµ„äº§ç®¡ç†å™¨</h2>
<p>ä½¿ç”¨èµ„äº§ç®¡ç†å™¨çš„StartInitialLoadingå‡½æ•°åœ¨å¼•æ“åˆå§‹åŒ–çš„æ—¶å€™åŠ è½½å’Œåˆå§‹åŒ–æˆ‘ä»¬çš„æ ‡ç­¾ã€‚</p>
<h3 id="myassetmanagerh">MyAssetManager.h</h3>
<pre><code class="language-c++">// Fill out your copyright notice in the Description page of Project Settings.

#pragma once

#include &quot;CoreMinimal.h&quot;
#include &quot;Engine/AssetManager.h&quot;
#include &quot;MyAssetManager.generated.h&quot;

/**
 * 
 */
UCLASS()
class INPUTWITHGAMEPLAYTAG_API UMyAssetManager : public UAssetManager
{
   GENERATED_BODY()

public:
   UMyAssetManager();

   static  UMyAssetManager&amp; Get();

protected:
   virtual  void StartInitialLoading() override;
};
</code></pre>
<h3 id="myassetmanagercpp">MyAssetManager.cpp</h3>
<pre><code class="language-c++">// Fill out your copyright notice in the Description page of Project Settings.


#include &quot;MyAssetManager.h&quot;

#include &quot;MyGameplayTags.h&quot;

UMyAssetManager::UMyAssetManager()
{
   
}

UMyAssetManager&amp; UMyAssetManager::Get()
{
   check(GEngine);

   UMyAssetManager* MyAssetManager=Cast&lt;UMyAssetManager&gt;(GEngine-&gt;AssetManager);
   return  * MyAssetManager;
}

void UMyAssetManager::StartInitialLoading()
{
   Super::StartInitialLoading();

   FMyGameplayTags::InitializeNativeTags();
}
</code></pre>
<p><strong>æ³¨æ„ï¼šéœ€è¦åœ¨é¡¹ç›®è®¾ç½®ä¸­æœç´¢ AssetMessage ,åœ¨èµ„äº§ç®¡ç†å™¨ä¸­æ›´æ¢ä¸ºMyAssetManagerã€‚</strong></p>
<h1 id="è¾“å…¥é…ç½®">è¾“å…¥é…ç½®</h1>
<p>éœ€è¦ä¸€ç§å°†è¾“å…¥æ ‡ç­¾ä¸ç¼–è¾‘å™¨ä¸­è¾“å…¥æ“ä½œç›¸å…³è”çš„æ–¹æ³•ï¼Œå› æ­¤æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ•°æ®èµ„äº§æ¥å¸®åŠ©æˆ‘ä»¬è§£å†³ã€‚ é¦–å…ˆï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„ç»“æ„ä½“æ¥åŒ…å«UInputAction å’Œ FGameplayTagã€‚ æˆ‘ä»¬å°†å‘½åç»“æ„ FTaggedInputAction å¹¶å°†å…¶å…¬å¼€åˆ°è“å›¾ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çš„æ•°æ®èµ„äº§å°†åŒ…å«ä¸€ä¸ªFTaggedInputAction æ•°ç»„å’Œä¸€ä¸ªé€šè¿‡æ ‡ç­¾å¯»æ‰¾Actionçš„æ–¹æ³•ã€‚</p>
<h2 id="inputconfigh">InputConfig.h</h2>
<pre><code class="language-c++">#pragma once

#include &quot;CoreMinimal.h&quot;
#include &quot;Engine/DataAsset.h&quot;
#include &quot;GameplayTags/Classes/GameplayTagContainer.h&quot;
#include &quot;InputConfig.generated.h&quot;

class UInputAction;
struct FGameplayTag;


/**
 * FTaggedInputAction
 *
 * å°†æ“ä½œå’ŒTagç»“åˆ
 */
USTRUCT(BlueprintType)
struct FTaggedInputAction
{
   GENERATED_BODY()

public:

   UPROPERTY(EditDefaultsOnly)
   const UInputAction* InputAction = nullptr;

   UPROPERTY(EditDefaultsOnly, Meta = (Categories = &quot;InputTag&quot;))
   FGameplayTag InputTag;
};

/**
 *
 */
UCLASS()
class INPUTWITHGAMEPLAYTAG_API UInputConfig : public UDataAsset
{
   GENERATED_BODY()

public:
   // è¿”å›ä¸€ä¸ªç»™å®šæ ‡ç­¾çš„è¾“å…¥æ“ä½œï¼ˆç¬¬ä¸€ä¸ªï¼‰
   UFUNCTION()
   const UInputAction* FindInputActionForTag(const FGameplayTag&amp; InputTag) const;

public:
   UPROPERTY(EditDefaultsOnly, BlueprintReadOnly, Meta = (TitleProperty = &quot;InputAction&quot;))
   TArray&lt;FTaggedInputAction&gt; TaggedInputActions;
};
</code></pre>
<h2 id="inputconfigcpp">InputConfig.CPP</h2>
<pre><code class="language-c++">#include &quot;InputConfig.h&quot;
#include &quot;GameplayTagContainer.h&quot;

const UInputAction* UInputConfig::FindInputActionForTag(const FGameplayTag&amp; InputTag) const
{
   for (const FTaggedInputAction&amp; TaggedInputAction : TaggedInputActions)
   {
      if (TaggedInputAction.InputAction &amp;&amp; TaggedInputAction.InputTag == InputTag)
      {
         return TaggedInputAction.InputAction;
      }
   }

   return nullptr;
}
</code></pre>
<p><strong>æ³¨æ„ï¼šæ·»åŠ UInputActionçš„APIï¼Œåœ¨Build.csæ–‡ä»¶ä¸­</strong></p>
<h1 id="enhancedinputcomponentå¢å¼ºè¾“å…¥ç»„ä»¶">EnhancedInputComponentå¢å¼ºè¾“å…¥ç»„ä»¶</h1>
<p>ç»§æ‰¿è‡ªUEnhancedInputComponentï¼Œå€ŸåŠ©BindActionæ–¹æ³•è¿›è¡Œè¾“å…¥æ“ä½œç»‘å®šã€‚</p>
<h2 id="umyenhancedinputcomponenth">UMyEnhancedInputComponent.h</h2>
<pre><code class="language-c++">// Fill out your copyright notice in the Description page of Project Settings.

#pragma once

#include &quot;CoreMinimal.h&quot;
#include &quot;EnhancedInputComponent.h&quot;
#include &quot;GameplayTagContainer.h&quot;
#include &quot;InputConfig.h&quot;
#include &quot;MyEnhancedInputComponent.generated.h&quot;

/**
 * 
 */
UCLASS()
class INPUTWITHGAMEPLAYTAG_API UMyEnhancedInputComponent : public UEnhancedInputComponent
{
   GENERATED_BODY()
public:
   template&lt;class UserCalss,typename FunType&gt;
   void BindActionBuTag(const UInputConfig* InputConfig ,const FGameplayTag&amp; InputTag,ETriggerEvent TriggerEvent,UserCalss* Object,FunType Func);
   
};
template&lt;class UserCalss,typename FunType&gt;
void UMyEnhancedInputComponent::BindActionBuTag(const UInputConfig* InputConfig ,const FGameplayTag&amp; InputTag,ETriggerEvent TriggerEvent,UserCalss* Object,FunType Func)
{
   check(InputConfig);
   if (const UInputAction* IA =InputConfig-&gt;FindInputActionForTag(InputTag))
   {
      BindAction(IA,TriggerEvent,Object,Func);
   }
}
</code></pre>
<p><strong>æ³¨æ„ï¼šéœ€è¦åœ¨é¡¹ç›®è®¾ç½®ä¸­æŒ‡å®šè¾“å…¥ç»„ä»¶ï¼Œé€‰æ‹©UMyEnhancedInputComponentã€‚</strong></p>
<h1 id="è§’è‰²è®¾ç½®">è§’è‰²è®¾ç½®</h1>
<p>åœ¨è§’è‰²ä»£ç ä¸­ç®€åŒ–äº†æ¨¡æ¿çš„ä»£ç ï¼Œæ·»åŠ ä¸€ä¸ªInputConfigçš„æŒ‡é’ˆå˜é‡ï¼Œæ·»åŠ åŸºç¡€çš„åŠŸèƒ½æ–¹æ³•ã€‚ï¼ˆåªåšäº†å¯¹åº”æµ‹è¯•æ•ˆæœï¼‰</p>
<h2 id="characterh">Character.h</h2>
<pre><code class="language-c++">// Copyright Epic Games, Inc. All Rights Reserved.

#pragma once

#include &quot;CoreMinimal.h&quot;
#include &quot;InputActionValue.h&quot;
#include &quot;InputConfig.h&quot;
#include &quot;GameFramework/Character.h&quot;
#include &quot;InputWithGameplayTagCharacter.generated.h&quot;

class UInputComponent;
class USkeletalMeshComponent;
class USceneComponent;
class UCameraComponent;
class UAnimMontage;
class USoundBase;

// Declaration of the delegate that will be called when the Primary Action is triggered
// It is declared as dynamic so it can be accessed also in Blueprints
DECLARE_DYNAMIC_MULTICAST_DELEGATE(FOnUseItem);

UCLASS(config=Game)
class AInputWithGameplayTagCharacter : public ACharacter
{
   GENERATED_BODY()

   /** Pawn mesh: 1st person view (arms; seen only by self) */
   UPROPERTY(VisibleDefaultsOnly, Category=Mesh)
   USkeletalMeshComponent* Mesh1P;

   /** First person camera */
   UPROPERTY(VisibleAnywhere, BlueprintReadOnly, Category = Camera, meta = (AllowPrivateAccess = &quot;true&quot;))
   UCameraComponent* FirstPersonCameraComponent;

public:
   AInputWithGameplayTagCharacter();

protected:
   virtual void BeginPlay();
   
   virtual void SetupPlayerInputComponent(UInputComponent* InputComponent) override;

public:
   
   USkeletalMeshComponent* GetMesh1P() const { return Mesh1P; }
   
   UCameraComponent* GetFirstPersonCameraComponent() const { return FirstPersonCameraComponent; }




public:
   UPROPERTY(EditDefaultsOnly,Category=&quot;Input&quot;)
   UInputConfig* InputConfig;
   

   void Input_Move(const FInputActionValue&amp; InputActionValue);


   void Input_Look(const FInputActionValue&amp; InputActionValue);


   void Input_Jump(const FInputActionValue&amp; InputActionValue);


   void Input_Fire(const FInputActionValue&amp; InputActionValue);
   
};
</code></pre>
<h2 id="charactercpp">Character.cpp</h2>
<p>æ¥ä¸‹æ¥éœ€è¦ä½¿ç”¨ç›¸å…³çš„æ¸¸æˆæ€§æ ‡ç­¾å°†è§’è‰²çš„æ“ä½œå‡½æ•°ç»‘å®šåˆ°é€‚å½“çš„ InputActionã€‚è¿™æ˜¯é€šè¿‡è¦†ç›– SetupPlayerInputComponent å¹¶ä½¿ç”¨æˆ‘ä»¬æ·»åŠ åˆ°å¢å¼ºå‹è¾“å…¥ç»„ä»¶ä¸­çš„ BindActionByTag å‡½æ•°æ¥å®Œæˆçš„ã€‚ä½¿ç”¨è¿™ç§æ–¹æ³•éœ€è¦æˆ‘ä»¬å°†ç›¸åº”çš„å­—ç¬¦åŠ¨ä½œç¡¬ç¼–ç åˆ°è¾“å…¥æ ‡ç­¾ï¼Œä¾‹å¦‚åŸç”Ÿçº§åˆ«çš„ InputTag_Moveã€InputTag_Fireï¼Œä½†æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨ UInputConfig èµ„äº§é…ç½® InputActions æ—¶ï¼Œå®ƒä¸ºæˆ‘ä»¬æä¾›äº†ç¼–è¾‘å™¨çµæ´»æ€§ã€‚</p>
<pre><code class="language-c++">// Copyright Epic Games, Inc. All Rights Reserved.

#include &quot;InputWithGameplayTagCharacter.h&quot;
#include &quot;InputWithGameplayTagProjectile.h&quot;
#include &quot;MyEnhancedInputComponent.h&quot;
#include &quot;MyGameplayTags.h&quot;
#include &quot;Animation/AnimInstance.h&quot;
#include &quot;Camera/CameraComponent.h&quot;
#include &quot;Components/CapsuleComponent.h&quot;
#include &quot;Components/InputComponent.h&quot;
#include &quot;GameFramework/InputSettings.h&quot;


//////////////////////////////////////////////////////////////////////////
// AInputWithGameplayTagCharacter

AInputWithGameplayTagCharacter::AInputWithGameplayTagCharacter()
{
   // Set size for collision capsule
   GetCapsuleComponent()-&gt;InitCapsuleSize(55.f, 96.0f);



   // Create a CameraComponent    
   FirstPersonCameraComponent = CreateDefaultSubobject&lt;UCameraComponent&gt;(TEXT(&quot;FirstPersonCamera&quot;));
   FirstPersonCameraComponent-&gt;SetupAttachment(GetCapsuleComponent());
   FirstPersonCameraComponent-&gt;SetRelativeLocation(FVector(-39.56f, 1.75f, 64.f)); // Position the camera
   FirstPersonCameraComponent-&gt;bUsePawnControlRotation = true;

   // Create a mesh component that will be used when being viewed from a '1st person' view (when controlling this pawn)
   Mesh1P = CreateDefaultSubobject&lt;USkeletalMeshComponent&gt;(TEXT(&quot;CharacterMesh1P&quot;));
   Mesh1P-&gt;SetOnlyOwnerSee(true);
   Mesh1P-&gt;SetupAttachment(FirstPersonCameraComponent);
   Mesh1P-&gt;bCastDynamicShadow = false;
   Mesh1P-&gt;CastShadow = false;
   Mesh1P-&gt;SetRelativeRotation(FRotator(1.9f, -19.19f, 5.2f));
   Mesh1P-&gt;SetRelativeLocation(FVector(-0.5f, -4.4f, -155.7f));

}

void AInputWithGameplayTagCharacter::BeginPlay()
{
   // Call the base class  
   Super::BeginPlay();

}

//////////////////////////////////////////////////////////////////////////// Input

void AInputWithGameplayTagCharacter::SetupPlayerInputComponent(class UInputComponent* PlayerInputComponent)
{
   UMyEnhancedInputComponent* MyEnhancedInputComponent=Cast&lt;UMyEnhancedInputComponent&gt;(PlayerInputComponent);
   check(MyEnhancedInputComponent);

   const FMyGameplayTags&amp; GameplayTags =FMyGameplayTags::Get();

   MyEnhancedInputComponent-&gt;BindActionBuTag(InputConfig,GameplayTags.InputTag_Move,ETriggerEvent::Triggered,this,&amp;AInputWithGameplayTagCharacter::Input_Move);
   MyEnhancedInputComponent-&gt;BindActionBuTag(InputConfig,GameplayTags.InputTag_Fire,ETriggerEvent::Triggered,this,&amp;AInputWithGameplayTagCharacter::Input_Fire);
   
}

void AInputWithGameplayTagCharacter::Input_Move(const FInputActionValue&amp; InputActionValue)
{
   GEngine-&gt;AddOnScreenDebugMessage(1, 1, FColor::Red, TEXT(&quot;1&quot;));
}

void AInputWithGameplayTagCharacter::Input_Look(const FInputActionValue&amp; InputActionValue)
{
}

void AInputWithGameplayTagCharacter::Input_Jump(const FInputActionValue&amp; InputActionValue)
{
}

void AInputWithGameplayTagCharacter::Input_Fire(const FInputActionValue&amp; InputActionValue)
{
   GEngine-&gt;AddOnScreenDebugMessage(1, 1, FColor::Red, TEXT(&quot;2&quot;));
}
</code></pre>
<h1 id="-åˆ†ç•Œçº¿-">------åˆ†ç•Œçº¿-----</h1>
<p><strong>C++çš„éƒ¨åˆ†å·²ç»å…¨éƒ¨å®Œæˆï¼Œæ¥ä¸‹æ¥åœ¨è“å›¾ä¸­æ“ä½œå³å¯ã€‚</strong></p>
<h1 id="inputassetå’Œè¾“å…¥é…ç½®">InputAssetå’Œè¾“å…¥é…ç½®</h1>
<h2 id="inputaction">InputAction</h2>
<p>Input Action ä»£è¡¨ä¸€ä¸ªæŠ½è±¡çš„æ¸¸æˆæ“ä½œã€‚è¾“å…¥æ“ä½œè¿”å›ä»¥ä¸‹æ•°æ®ç±»å‹ä¹‹ä¸€çš„å€¼ï¼šboolã€floatã€Vector2 å’Œ Vector3ã€‚å®ƒä»¬è¿˜å¯ä»¥é…ç½®è§¦å‘è§„åˆ™å’Œå€¼ä¿®é¥°ç¬¦ã€‚</p>
<p>è§¦å‘å™¨é€šè¿‡è®¾ç½®é™å®šç¬¦å’Œæ¡ä»¶æ¥å½±å“è§¦å‘æ“ä½œçš„æ–¹å¼æˆ–æ—¶é—´ã€‚ä¾‹å¦‚ï¼Œâ€œPressedâ€è§¦å‘å™¨æ¯æ¬¡æŒ‰ä¸‹è§¦å‘äº‹ä»¶ä¸€æ¬¡ã€‚è€Œâ€œPulseâ€è§¦å‘å™¨å°†åœ¨æŒ‰ä¸‹é”®æˆ–æŒ‰é’®æ—¶æ¯éš”ä¸€æ®µæ—¶é—´è§¦å‘äº‹ä»¶ã€‚å¯ä»¥åº”ç”¨ä¿®é¥°ç¬¦æ¥è°ƒæ•´è¾“å…¥åŠ¨ä½œçš„æœ€ç»ˆè¾“å‡ºã€‚ä¾‹å¦‚ï¼Œâ€œDeadZoneâ€ä¿®é¥°ç¬¦å°†è¾“å…¥å€¼é™åˆ¶åœ¨é˜ˆå€¼ä¸‹é™å’Œä¸Šé™ä¹‹é—´ã€‚</p>
<p>å¯¹äºæˆ‘ä»¬çš„ç®€å•ç¤ºä¾‹ï¼Œæˆ‘ä»¬éœ€è¦äº”ä¸ªè¾“å…¥æ“ä½œã€‚æˆ‘ä»¬å°†<strong>Look</strong> æ‹†åˆ†ä¸ºä¸¤ä¸ªåŠ¨ä½œï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åˆ†åˆ«å¤„ç†åŸºäºé¼ æ ‡å’Œæ‘‡æ†çš„è¾“å…¥ã€‚é€šè¿‡åœ¨å†…å®¹æµè§ˆå™¨ä¸­å•å‡»é¼ æ ‡å³é”®å¹¶é€‰æ‹©æ¥åˆ›å»ºä»¥ä¸‹è¾“å…¥æ“ä½œ<code>è¾“å…¥-&gt;è¾“å…¥æ“ä½œ</code>ä»èµ„äº§åˆ›å»ºèœå•ã€‚</p>
<p>åˆ†åˆ«åˆ›å»ºå¯¹åº”çš„å¼€ç«è·³è·ƒç­‰ç­‰ï¼Œåœ¨æ­¤ä¸ä¸€ä¸€åˆ—ä¸¾ã€‚</p>
<h2 id="inputconfig">InputConfig</h2>
<p>è¾“å…¥é…ç½®å°†åŸºäºæˆ‘ä»¬ä¹‹å‰å®šä¹‰çš„ UInputConfig ç±»ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†é…ç½®è¾“å…¥æ ‡ç­¾å’Œåº”è¯¥ä¸ºè§’è‰²æˆ–Pawnç»‘å®šçš„è¾“å…¥æ“ä½œä¹‹é—´çš„å…³è”ã€‚é€šè¿‡åœ¨å†…å®¹æµè§ˆå™¨ä¸­å³é”®å•å‡»å¹¶é€‰æ‹©æ¥åˆ›å»ºè¾“å…¥é…ç½®èµ„äº§æ‚é¡¹-&gt;æ•°æ®èµ„äº§ç„¶ååœ¨ç±»é€‰æ‹©å™¨ä¸­é€‰æ‹© InputConfigã€‚</p>
<p>åˆ›å»ºå¥½ä¹‹åï¼Œä¸ºæ¯ä¸ªè¾“å…¥æ“ä½œæ·»åŠ ä¸€ä¸ªå­é¡¹ã€‚</p>
<figure data-type="image" tabindex="1"><img src="https://liusensen1123.github.io/LiuSenSen.github.io//post-images/1660210214585.png" alt="" loading="lazy"></figure>
<h2 id="è§’è‰²è“å›¾">è§’è‰²è“å›¾</h2>
<figure data-type="image" tabindex="2"><img src="https://liusensen1123.github.io/LiuSenSen.github.io//post-images/1660210354467.png" alt="" loading="lazy"></figure>
<h1 id="æ¦‚æ‹¬">æ¦‚æ‹¬</h1>
<p>æˆ‘ä»¬å®ç°äº†ä¸€ä¸ªåŸºç¡€è¾“å…¥ç³»ç»Ÿï¼Œè¯¥ç³»ç»Ÿåˆ©ç”¨å¢å¼ºè¾“å…¥ç³»ç»Ÿå’Œæ¸¸æˆæ ‡ç­¾æ¥å®ç°å¯é…ç½®æ€§ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºäº†åŸç”Ÿ Gameplay æ ‡ç­¾æ¥æè¿°è¾“å…¥å¹¶ä½¿ç”¨ Asset Manager åŠ è½½å®ƒä»¬ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ•°æ®èµ„äº§æ¥å°†è¾“å…¥æ ‡ç­¾æ˜ å°„åˆ°è¾“å…¥æ“ä½œï¼Œå¹¶ä½¿ç”¨è¯¥æ•°æ®å°†è¾“å…¥æ“ä½œç»‘å®šåˆ°æˆ‘ä»¬åŸç”Ÿè§’è‰²çš„æ“ä½œã€‚ç„¶åæˆ‘ä»¬åˆ›å»ºäº†æ‰€æœ‰å¿…è¦çš„èµ„äº§æ¥å®šä¹‰å’Œé…ç½®æˆ‘ä»¬çš„è¾“å…¥ã€‚æœ€åï¼Œæˆ‘ä»¬é€šè¿‡è®¾ç½®ä¸€ä¸ªè§’è‰²è“å›¾æ¥ä½¿ç”¨è¿™ä¸ªç³»ç»Ÿï¼Œå°†å®ƒä»¬è”ç³»åœ¨ä¸€èµ·ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Lyraè¾“å…¥ç³»ç»Ÿ]]></title>
        <id>https://liusensen1123.github.io/LiuSenSen.github.io/post/lyra-shu-ru-xi-tong/</id>
        <link href="https://liusensen1123.github.io/LiuSenSen.github.io/post/lyra-shu-ru-xi-tong/">
        </link>
        <updated>2022-08-09T03:05:59.000Z</updated>
        <content type="html"><![CDATA[<p>1ã€é»˜è®¤çš„è¾“å…¥é…ç½®</p>
<p>ULyraHeroComponentç”¨äºåˆ›å»ºç©å®¶æ§åˆ¶çš„Playerï¼ˆè§’è‰²ã€è½¦è¾†ç­‰ï¼‰çš„ç»„ä»¶ã€‚åŒ…å«äº†ä¸€ä¸ªè“å›¾é…ç½®çš„æ•°ç»„DefaultInputConfigsï¼Œä»¥åŠä¸€ä¸ªåˆå§‹åŒ–ç©å®¶è¾“å…¥çš„å‡½æ•°InitializePlayerInputï¼ˆï¼‰ï¼›</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[GASè¶…çº§å…¥é—¨ç‰ˆ]]></title>
        <id>https://liusensen1123.github.io/LiuSenSen.github.io/post/gas-chao-ji-ru-men-ban/</id>
        <link href="https://liusensen1123.github.io/LiuSenSen.github.io/post/gas-chao-ji-ru-men-ban/">
        </link>
        <updated>2022-07-27T08:12:32.000Z</updated>
        <content type="html"><![CDATA[<h1 id="gaså…³é”®å­—ä»‹ç»">GASå…³é”®å­—ä»‹ç»</h1>
<p>ğŸ˜€1. <strong>AbilitySystemComponent</strong>ï¼šæŠ€èƒ½ç³»ç»Ÿç»„ä»¶æ˜¯æ•´ä¸ªGASçš„æ ¸å¿ƒï¼Œç”¨äºç®¡ç†å„ç§æŠ€èƒ½å’Œå¤„ç†æŠ€èƒ½ç³»ç»Ÿçš„æ‰€æœ‰äº¤äº’ã€‚è¯¥ç»„ä»¶é™„åŠ åœ¨éœ€è¦æ‹¥æœ‰æŠ€èƒ½çš„è§’è‰²ä¸Šï¼Œå¹¶å¯ä»¥æŠŠæŠ€èƒ½èµ‹äºˆè§’è‰²ã€‚<br>
ğŸ˜ƒ2. <strong>GameplayTag</strong>ï¼šæ¸¸æˆæ€§æ ‡ç­¾GameplayTagæ˜¯ç”¨äºæ ‡è®°ã€æè¿°Abilityå’ŒEffectç­‰æ¸¸æˆå¯¹è±¡ï¼Œç›¸å½“äºå®ƒä»¬çš„IDã€‚GameplayTagçš„å†…éƒ¨å®ç°åŸºäºè™šå¹»çš„FNameå­—ç¬¦ä¸²ï¼Œå› æ­¤å…·æœ‰é«˜æ•ˆçš„æŸ¥è¯¢æ€§èƒ½ã€‚GameplayTagä¸ä»…èƒ½ç”¨äºæŠ€èƒ½ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥åœ¨å…¶å®ƒä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼Œå½“éœ€è¦å±‚çº§æ ‡ç­¾çš„æ—¶å€™ã€‚<br>
ğŸ˜„3. <strong>GameplayAbilityï¼ˆGAï¼‰</strong>ï¼šæŠ€èƒ½GameplayAbilityæ˜¯è§’è‰²å¯ä»¥ä½¿ç”¨çš„èƒ½åŠ›ï¼Œæ¯”å¦‚è·³è·ƒã€æ”»å‡»ã€ç«çƒæœ¯ã€æ¬¡å…ƒæ–©ç­‰ã€‚åˆ›å»ºä¸åŒçš„æŠ€èƒ½æ˜¯GASçš„ä¸€ä¸ªä¸»è¦å·¥ä½œã€‚åœ¨GAä¸­å¯ä»¥è§¦å‘ä¸åŒçš„æŠ€èƒ½ä»»åŠ¡ï¼ˆAbilityTaskï¼‰ï¼Œå®ƒä»¬æ‰¿æ‹…äº†è¯¸å¦‚æ’­æ”¾åŠ¨ç”»ã€è§’è‰²ç§»åŠ¨ç­‰æŒç»­ä¸€æ®µæ—¶é—´çš„åŠŸèƒ½ã€‚<br>
ğŸ˜4. <strong>GameplayEffectï¼ˆGEï¼‰</strong>ï¼šæ¸¸æˆæ€§æ•ˆæœGameplayEffectç›¸å½“äºGASä¸­çš„Buffç±»ï¼Œç”¨äºä¿®æ”¹å„ç§æ•°å€¼ï¼Œä¸€èˆ¬é€šè¿‡æ”¹å˜è‡ªå·±æˆ–ç›®æ ‡çš„å±æ€§å€¼å’Œæ ‡ç­¾(GameplayTag)æ¥å®ç°ã€‚æ¯”å¦‚é™„åŠ ä¼¤å®³ã€å›è¡€ã€å…‰ç¯ã€Buff/Debuffç­‰ã€‚æŠ€èƒ½çš„æ¶ˆè€—å’Œå†·å´é€šå¸¸ä¹Ÿæ˜¯ç”¨GEå®ç°ã€‚å±æ€§é›†AttributeSetæ˜¯è¡¨ç¤ºActorå„ç§å±æ€§å€¼çš„é›†åˆï¼Œä¿å­˜åœ¨ASCä¸­ï¼Œæ˜¯GEçš„ä¸»è¦ä½œç”¨ç›®æ ‡ã€‚<br>
ğŸ˜†5. <strong>GameplayCue</strong>ï¼šæ¸¸æˆæ€§æç¤ºGameplayCueç±»ä¼¼äºGASä¸­çš„é€šçŸ¥äº‹ä»¶ï¼Œç”¨äºè§¦å‘å¤–éƒ¨äº‹ä»¶ï¼Œæ¯”å¦‚æ’­æ”¾ç²’å­ç‰¹æ•ˆã€å£°éŸ³ç­‰ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Lyraå­¦ä¹ è®°å½•]]></title>
        <id>https://liusensen1123.github.io/LiuSenSen.github.io/post/lyra-xue-xi-ji-lu/</id>
        <link href="https://liusensen1123.github.io/LiuSenSen.github.io/post/lyra-xue-xi-ji-lu/">
        </link>
        <updated>2022-07-27T03:36:04.000Z</updated>
        <content type="html"><![CDATA[<h1 id="æ·»åŠ ä¸–ç•Œåœºæ™¯è®¾ç½®ä¸­çš„å˜é‡">æ·»åŠ ä¸–ç•Œåœºæ™¯è®¾ç½®ä¸­çš„å˜é‡</h1>
<p>é¦–å…ˆéœ€è¦åœ¨C++ä¸­ç»§æ‰¿ä¸€ä¸ªAWorldSettingç±»ï¼Œä¹‹ååœ¨é¡¹ç›®è®¾ç½®-&gt;å¼•æ“-&gt;ä¸€èˆ¬è®¾ç½®-&gt;åœºæ™¯è®¾ç½®ç±»ä¸­é€‰ä¸­æ–°å»ºçš„WorldSettingã€‚åœ¨AWorldSettingä¸­æ·»åŠ å¦‚ä¸‹ä»£ç å³å¯ï¼š</p>
<p><code>UPROPERTY(EditDefaultsOnly, Category=GameMode) 	TSoftClassPtr&lt;ULyraExperienceDefinition&gt; DefaultGameplayExperience;</code></p>
<figure data-type="image" tabindex="1"><img src="https://liusensen1123.github.io/LiuSenSen.github.io//post-images/1658893360746.png" alt="åœ¨ä¸–ç•Œåœºæ™¯è®¾ç½®ä¸­æ·»åŠ å…¶ä»–å˜é‡" loading="lazy"></figure>
<p>è·å–ä¸–ç•Œè®¾ç½®çš„æ–¹å¼ï¼š</p>
<ol>
<li>Actorï¼š<code>GetWorldSettings()</code></li>
<li>UWordï¼š<code>GetWorldSettingsï¼ˆï¼‰</code></li>
<li>Level:<code>GetWorldSetting()</code></li>
</ol>
<h1 id="è‡ªå®šä¹‰æ•°æ®èµ„äº§">è‡ªå®šä¹‰æ•°æ®èµ„äº§</h1>
<h2 id="1-udataasset">1ã€UDataAsset</h2>
<h3 id="1ç®€ä»‹">(1)ç®€ä»‹</h3>
<p>ç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œæ¯ä¸€ä¸ªDataAsset éƒ½æ˜¯ä¸€ä»½æ•°æ®</p>
<p>å¯ä»¥æ´¾ç”Ÿï¼Œç³»ç»Ÿè‡ªå¸¦æ´¾ç”Ÿ UPrimaryDataAsset æ–¹ä¾¿æ•°æ®å¯¹è±¡çš„åŠ è½½å’Œé‡Šæ”¾</p>
<p>å¯ä»¥å¼•ç”¨å…¶ä»–çš„ UDataAsset</p>
<p>å¯ä»¥å­˜å‚¨UObject å®ä¾‹</p>
<p>å¯ä»¥BulkEdiit æ‰¹é‡ç¼–è¾‘å¤šä¸ª UDataAsset</p>
<p>çµæ´»é…ç½®æ•°æ®ï¼Œä½†ä¸å¥½ç®¡ç†å¤§é‡çš„é…ç½®å¯¹è±¡</p>
<p>æ–¹ä¾¿é…ç½®æ ‘çŠ¶ç»„ç»‡æ•°æ®ï¼Œå…¨å±€é…ç½®ï¼Œæ•°æ®å¯¹è±¡é›†åˆ</p>
<h3 id="2ä½¿ç”¨">(2)ä½¿ç”¨</h3>
<p>å®šä¹‰ç»“æ„ä½“</p>
<pre><code class="language-c++">USTRUCT(BlueprintType, Blueprintable)
struct FAttackInfo :public FTableRowBase
{
	GENERATED_BODY()

	UPROPERTY(EditAnywhere, BlueprintReadWrite)
		FString Name;

	UPROPERTY(EditAnywhere, BlueprintReadWrite)
		float Damage;

	UPROPERTY(EditAnywhere, BlueprintReadWrite)
		UAnimMontage* Montage;

	UPROPERTY(EditAnywhere, BlueprintReadWrite)
		UParticleSystem* VFX;

	UPROPERTY(EditAnywhere, BlueprintReadWrite)
		USoundBase* Sound;
};
</code></pre>
<p>å®šä¹‰UDataAsset</p>
<pre><code class="language-c++">UCLASS()
class  USympleDataAsset : public UDataAsset
{
	GENERATED_BODY()

public:
	UPROPERTY(EditAnywhere, BlueprintReadWrite)
		FAttackInfo AttackInfo;
};
</code></pre>
<p>è°ƒç”¨æ•°æ®</p>
<pre><code class="language-C++">void GetAssetData(USympleDataAsset* SympleDataAsset)
{
    if(SympleDataAsset)
    {
        FAttackInfo&amp; AttackInfo=SympleDataAsset-&gt;AttackInfo;
        printf(AttackInfo);
    }
}
</code></pre>
<p>åœ¨ç¼–è¾‘å™¨ä¸­åˆ›å»ºå’Œä½¿ç”¨<br>
<img src="https://liusensen1123.github.io/LiuSenSen.github.io//post-images/1658905790696.jpg" alt="åœ¨ç¼–è¾‘å™¨ä¸­ä½¿ç”¨" loading="lazy"></p>
<h2 id="2-uprimarydataasset">2ã€UPrimaryDataAsset</h2>
<h3 id="1ç®€ä»‹-2">(1)ç®€ä»‹</h3>
<h3 id="2ä½¿ç”¨-2">(2)ä½¿ç”¨</h3>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="https://www.bilibili.com/video/BV1dk4y1r752?t=0h33m0s&amp;vd_source=75d4f1489fd90b54cbb0e639636e557a">UE4æ•°æ®é©±åŠ¨å¼€å‘ | Epic å¤§é’Š</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[UE4çš„å°çŸ¥è¯†ç‚¹]]></title>
        <id>https://liusensen1123.github.io/LiuSenSen.github.io/post/ue4-de-xiao-zhi-shi-dian/</id>
        <link href="https://liusensen1123.github.io/LiuSenSen.github.io/post/ue4-de-xiao-zhi-shi-dian/">
        </link>
        <updated>2022-07-25T09:05:03.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä¸€äº’è”ç½‘ä¸Šæ”¶é›†çš„å°æ•™ç¨‹">ï¼ˆä¸€ï¼‰äº’è”ç½‘ä¸Šæ”¶é›†çš„å°æ•™ç¨‹</h2>
<p><a href="https://blog.csdn.net/weixin_45959035/article/details/111562312">UE4è‡ªå®šä¹‰ç‚¹å‡»åŒºåŸŸçš„Button</a></p>
<p><a href="https://blog.csdn.net/weixin_45959035/article/details/111563029">UE4è§¦æ‘¸å±æ—‹è½¬ã€åŒæŒ‡ç¼©æ”¾</a></p>
<p><a href="http://www.v5xy.com/?p=696">UE4 æ¸¸æˆä¸­å¯åŠ¨å…¶ä»–çš„è¿›ç¨‹ï¼ˆxx.exeï¼‰</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/388335131">UE4ä½¿ç”¨Httpä¸‹è½½æ–‡ä»¶</a></p>
<p><a href="https://www.cnblogs.com/timy/p/9985746.html">UE4å¢åŠ è§‚å¯Ÿè€…</a></p>
<p><a href="https://www.cnblogs.com/timy/p/10113827.html">UE4çˆ†å¤´å’Œç©¿å¢™</a></p>
<p><a href="https://www.cnblogs.com/timy/p/10182685.html">UE4æ˜¯å•çº¿ç¨‹çš„å—</a></p>
<p><a href="https://www.cnblogs.com/timy/p/10286383.html">UE4 .uprojectæ–‡ä»¶æ— å…³è” å³é”®èœå•å°‘äº†</a></p>
<p><a href="https://www.cnblogs.com/timy/p/10301234.html">UE4å¯Œæ–‡æœ¬</a></p>
<h2 id="äºŒ-ue4-cå¿…å¤‡çŸ¥è¯†ç‚¹">ï¼ˆäºŒï¼‰ UE4 C++å¿…å¤‡çŸ¥è¯†ç‚¹</h2>
<h3 id="1-å®åˆ¤æ–­">1ã€å®åˆ¤æ–­</h3>
<table>
<thead>
<tr>
<th>UE4å®</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody>
<tr>
<td>UE_BUILD_SHIPPING</td>
<td>æ˜¯ä¸æ˜¯æ„å»ºå‘è¡ŒåŒ…</td>
</tr>
<tr>
<td>UE_BUILD_DEBUG</td>
<td>æ˜¯ä¸æ˜¯æ„å»ºDeBugåŒ…</td>
</tr>
<tr>
<td>UE_BUILD_DEVELOPMENT</td>
<td>æ˜¯ä¸æ˜¯æ„å»ºå¼€å‘åŒ…</td>
</tr>
<tr>
<td>UE_GAME</td>
<td>æ˜¯ä¸æ˜¯æ¸¸æˆæ¨¡å¼</td>
</tr>
<tr>
<td>UE_EDITOR</td>
<td>æ˜¯ä¸æ˜¯ç¼–è¾‘å™¨æ¨¡å¼</td>
</tr>
<tr>
<td>UE_SERVER</td>
<td>æ˜¯ä¸æ˜¯ç‹¬ç«‹æœåŠ¡å™¨</td>
</tr>
<tr>
<td>æ›´å¤šå®åˆ¤æ–­åœ¨Build.hæ–‡ä»¶ä¸­</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="2-prcç½‘ç»œ">2ã€PRCç½‘ç»œ</h3>
<p>æ·»åŠ å¯å¤åˆ¶å˜é‡æ˜¯éœ€è¦åœ¨ç±»ä¸­é‡å†™</p>
<ul>
<li>GetLifetimeReplicatedProps(TArray&lt;Â FLifetimePropertyÂ &gt;Â &amp;Â OutLifetimeProps)Â const</li>
<li>DOREPLIFETIME_CONDITION(Â AGamePC,Â PlayFightInfo,Â COND_OwnerOnly);</li>
</ul>
<h3 id="3-åˆ›å»ºå¼‚æ­¥åŠ è½½èŠ‚ç‚¹">3ã€åˆ›å»ºå¼‚æ­¥åŠ è½½èŠ‚ç‚¹</h3>
<pre><code class="language-c++">ï¼¨æ–‡ä»¶

UENUM(BlueprintType)
enum class EDownloadWay :uint8
{
	Get,
	Post
};

DECLARE_DYNAMIC_MULTICAST_DELEGATE_OneParam(FBPHttpDownloadNode, FString, Result);
UCLASS()
class YDEMO_API UHttpDownloadNode : public UBlueprintAsyncActionBase
{
	GENERATED_BODY()

public:
	UPROPERTY(BlueprintAssignable)
		FBPHttpDownloadNode OnSuccess;
	UPROPERTY(BlueprintAssignable)
		FBPHttpDownloadNode OnFail;

	UFUNCTION(BlueprintCallable, meta = (BlueprintInternalUseOnly = &quot;true&quot;))
		static UHttpDownloadNode* BP_Download(EDownloadWay Download, const FString&amp; URL);
	//å®Œæˆ
	void OnRequestComplete(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded);
	//è¿›åº¦
	void OnRequestProgress(FHttpRequestPtr HttpRequest, int32 BytesSent, int32 BytesReceived);
};
CPPæ–‡ä»¶

UHttpDownloadNode* UHttpDownloadNode::BP_Download(EDownloadWay Download, const FString&amp; URL)
{
	UHttpDownloadNode* BlueprintNode = NewObject&lt;UHttpDownloadNode&gt;();

	FHttpRequestRef HttpReuest = FHttpModule::Get().CreateRequest();
	HttpReuest-&gt;SetURL(URL);
	UE_LOG(LogTemp, Error, TEXT(&quot;%s&quot;), *URL);
	HttpReuest-&gt;SetVerb(TEXT(&quot;GET&quot;));
	HttpReuest-&gt;SetHeader(TEXT(&quot;Content-Type&quot;), TEXT(&quot;application/x-www-form-urlencoded&quot;));
	HttpReuest-&gt;OnProcessRequestComplete().BindUObject(BlueprintNode, &amp;UHttpDownloadNode::OnRequestComplete);
	HttpReuest-&gt;OnRequestProgress().BindUObject(BlueprintNode, &amp;UHttpDownloadNode::OnRequestProgress);
	HttpReuest-&gt;ProcessRequest();
	return nullptr;

}

void UHttpDownloadNode::OnRequestComplete(FHttpRequestPtr HttpRequest, FHttpResponsePtr HttpResponse, bool bSucceeded)
{

}

void UHttpDownloadNode::OnRequestProgress(FHttpRequestPtr HttpRequest, int32 BytesSent, int32 BytesReceived)
{

}

</code></pre>
<h3 id="4-åˆ¤æ–­ue4è¿è¡Œå¹³å°">4ã€åˆ¤æ–­UE4è¿è¡Œå¹³å°</h3>
<pre><code class="language-c++"> FPlatformProperties::IniPlatformName();
 UGameplayStatics::GetPlatformName()ï¼›
</code></pre>
<h3 id="5-ue4é»˜è®¤è¯»å–iniæ–‡ä»¶">5ã€UE4é»˜è®¤è¯»å–iniæ–‡ä»¶</h3>
<p>ä¾‹å¦‚ DefaultGame.iniæ–‡ä»¶å†…å®¹å¦‚ä¸‹</p>
<pre><code class="language-ini">[/Script/UI.Setting]
;è¡€é‡ä½äºæ­¤å€¼æ—¶æ˜¾ç¤ºæ³›çº¢
HpLowPercent=0.3
;æ“ä½œæ»‘æ†æœ€å¤§å€¼
OperationSliderMax=100
;ç”»é¢æ»‘æ†æœ€å¤§å€¼
FrameSliderMax=100
;å£°éŸ³æ»‘æ†æœ€å¤§å€¼
SoundSliderMax=100
;å…¶ä»–æ»‘æ†æœ€å¤§å€¼
OtherSliderMax=100
</code></pre>
<p>è¯»å–æ–¹å¼ä¸ºï¼š</p>
<pre><code class="language-c++">	float ReturnVaule=50;
	TArray&lt;FString&gt; ConfigTable={&quot;OperationSliderMax&quot;,&quot;FrameSliderMax&quot;,&quot;SoundSliderMax&quot;,&quot;OtherSliderMax&quot;};
	GConfig-&gt;GetFloat(TEXT(&quot;/Script/UI.Setting&quot;), *ConfigTable[sID-1], ReturnVaule, GGameIni);
	return ReturnVaule;
</code></pre>
<p>å…¶ä¸­GConfigä¸­è¿˜åŒ…å«ç±»ä¼¼çš„ GetString(ï¼‰ç­‰åŒç±»å‹çš„å‡½æ•°ã€‚<br>
GGameIniæ˜¯å¼•æ“è‡ªå¸¦çš„é»˜è®¤å®šä¹‰çš„iniæ–‡ä»¶ã€‚è¿˜æœ‰å…¶ä»–çš„GInputIniç­‰ã€‚å®šä¹‰ä½ç½®ä¸ºCoreGlobals.cpp;</p>
<h3 id="6-kismetsystemåº“ä¸­å†·é—¨api">6ã€KismetSystemåº“ä¸­å†·é—¨API</h3>
<blockquote>
<ol>
<li>è·å–å¼•æ“ç‰ˆæœ¬<br>
<code>static FString GetEngineVersion();</code></li>
<li>è·å–é¡¹ç›®åç§°<br>
<code>static FString GetGameName();</code></li>
<li>è®¾ç½®Windowsçª—å£æ ‡é¢˜<br>
<code>static void SetWindowTitle(const FText&amp; Title);</code></li>
<li>å°†ç»„ä»¶ç§»åŠ¨åˆ°***<br>
<code>static void MoveComponentTo(USceneComponent* Component, FVector TargetRelativeLocation, FRotator TargetRelativeRotation, bool bEaseOut, bool bEaseIn, float OverTime, bool bForceShortestRotationPath, TEnumAsByte&lt;EMoveComponentAction::Type&gt; MoveAction, FLatentActionInfo LatentInfo);</code></li>
<li>è·å–æ¸²æŸ“ç»†èŠ‚æ¨¡å¼<br>
<code>static int32 GetRenderingDetailMode();</code></li>
<li>æ˜¾ç¤ºå¹¿å‘Šæ¡å¹…<br>
<code>static void ShowAdBanner(int32 AdIdIndex, bool bShowOnBottomOfScreen);</code></li>
<li>å·²å¯ç”¨å±ä¿<br>
<code>static bool IsScreensaverEnabled();</code></li>
</ol>
</blockquote>
<h3 id="7-ue4æ¨¡æ‹Ÿç½‘ç»œå»¶æ—¶å’Œä¸¢åŒ…">7ã€UE4æ¨¡æ‹Ÿç½‘ç»œå»¶æ—¶å’Œä¸¢åŒ…</h3>
<p>å‘½ä»¤è¡ŒæŒ‡ä»¤</p>
<blockquote>
<ul>
<li>1ã€Net pktLag=ï¼Œæ¨¡æ‹Ÿå»¶è¿Ÿï¼Œå•ä½æ˜¯æ¯«ç§’</li>
<li>2ã€Net PktLagVariance=300ï¼Œåœ¨æ¨¡æ‹Ÿå»¶è¿Ÿçš„åŸºç¡€ä¸Šï¼Œå†ä¸Šä¸‹æµ®åŠ¨300æ¯«ç§’ã€‚åŠ ä¸Šè¿™ä¸ªå°±ä¼šå‡ºç°ç§»åŠ¨ç¬ç§»å¡é¡¿çš„æ•ˆæœ</li>
<li>3ã€Net PKtLoss=ï¼Œä¸¢åŒ…ï¼Œå•ä½æ˜¯ç™¾åˆ†æ¯”ï¼ŒNet PKtLoss=90å°±æ˜¯90%ä¼šä¸¢åŒ…ï¼Œä¹Ÿä¼šå‡ºç°ç§»åŠ¨ç¬ç§»å¡é¡¿</li>
<li>4ã€Net PktOrder=1ï¼Œä¹±åºå‘åŒ…ï¼Œä¼šå‡ºç°ä¸€å®šçš„ç§»åŠ¨ç¬ç§»ï¼Œä½†ä¸å¤ªæ˜æ˜¾</li>
<li>5ã€Net PktDup=ï¼Œé‡å¤å‘åŒ…ï¼Œå•ä½æ˜¯ç™¾åˆ†æ¯”ï¼ŒNet PktDup=20è¡¨ç¤º20%ä¼šå‡ºç°é‡å¤å‘åŒ…ã€‚</li>
</ul>
</blockquote>
<h2 id="ä¸‰å¸¸ç”¨å·¥å…·">ï¼ˆä¸‰ï¼‰å¸¸ç”¨å·¥å…·</h2>
<p><a href="https://gitee.com/sourcegit/sourcegit?_from=gitee_search">SourceGit</a></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç›¸æœºæ¨¡å—åŠŸèƒ½]]></title>
        <id>https://liusensen1123.github.io/LiuSenSen.github.io/post/xiang-ji-mo-kuai-gong-neng/</id>
        <link href="https://liusensen1123.github.io/LiuSenSen.github.io/post/xiang-ji-mo-kuai-gong-neng/">
        </link>
        <updated>2022-07-25T03:06:17.000Z</updated>
        <content type="html"><![CDATA[<h1 id="cameracomponent">CameraComponent</h1>
<ul>
<li>é€šè¿‡é…ç½®è¡¨<code>DT_CharacterInitConf</code>çš„å½¢å¼é…åˆ°ç©å®¶è§’è‰²ä¸Šã€‚</li>
<li>ç»„ä»¶ä¸­æš´éœ²äº†ä¸€ä¸ªå¯è®¿é—®çš„é™æ€å‡½æ•°<code>FindCameraComponent</code>æ¥è·å–åˆ°ç©å®¶èº«ä¸Šçš„ç›¸æœºç»„ä»¶ã€‚</li>
<li>ç›¸æœºç»„ä»¶çš„<code>TargetActor</code>ä¸ºç›¸æœºçš„<code>Owner</code>ã€‚</li>
<li>ç›¸æœºç»„ä»¶ä¸­ä½¿ç”¨<code>CameraModeStack</code>å­˜è´®äº†ç›¸æœºå½“å‰çš„æ¨¡å¼ï¼Œå¯ä»¥é€šè¿‡Pullå’ŒPushæ¥åŠ¨æ€çš„ç®¡ç†ã€‚</li>
<li><code>CameraModePriorityStack</code>ä¸ºç›¸æœºå †æ ˆçš„ä¼˜å…ˆçº§ã€‚</li>
<li><code>UpdateBlendingStack</code>æ›´æ–°å½“å‰ç›¸æœºæ¨¡å¼çš„å †æ ˆã€‚</li>
<li><code>GetCameraView</code>å¸§è°ƒç”¨äº‹ä»¶ï¼Œé‡å†™çˆ¶ç±»<code>UCameraComponent</code>çš„å‡½æ•°ã€‚åç»­ç›¸æœºçš„æ•°æ®æ›´æ–°éƒ½æ˜¯åœ¨è¿™ä¸ªå‡½æ•°ä¸‹è¿›è¡Œã€‚</li>
</ul>
<h1 id="cameramodebase">CameraModeBase</h1>
<ul>
<li>
<p>ä½¿ç”¨æ–¹æ³•ï¼šåœ¨è“å›¾ä¸­ç»§æ‰¿<code>CameraModeBase</code>ï¼Œæˆ–è€…åœ¨C++ä¸­ç»§æ‰¿å¹¶æ·»åŠ ç›¸åº”çš„åŠŸèƒ½ï¼Œç„¶ååœ¨è“å›¾ä¸­è¿›è¡Œæ•°å€¼çš„é…ç½®ã€‚</p>
</li>
<li>
<p><code>AddControllerRotationInput</code>ç­‰å‡½æ•°åªèƒ½åœ¨Pawnçš„ç»„ä»¶ä¸‹è°ƒç”¨ï¼Œå› ä¸ºå…¶ä¸­çš„å®ç°æ–¹å¼çš„ç›®æ ‡ä¸ºPawnã€‚</p>
<h3 id="fncameramodeview">FNCameraModeView()</h3>
<p>ç”¨äºå­˜å‚¨å½“å‰ç›¸æœºç»„ä»¶çš„æ•°æ®ï¼ŒåŒ…å«äº†ç›¸æœºçš„ä¸­æ¢ä½ç½®ï¼Œå½“å‰çš„ä¸–ç•Œæ—‹è½¬ï¼Œå½“å‰çš„ä¸–ç•Œä½ç½®ã€‚åœ¨<code>UNCameraModeBase</code>ä¸­ä½¿ç”¨å‡½æ•°<code>UpdateView()</code>è¿›è¡Œé€»è¾‘è®¡ç®—ï¼Œåœ¨<code>UpdateCameraModeï¼ˆï¼‰</code>å‡½æ•°ä¸­è¿›è¡Œèµ‹å€¼ã€‚</p>
</li>
</ul>
<h1 id="springarmcameramode">SpringArmCameraMode</h1>
<ul>
<li>æ˜¯<code>CameraModeBase</code>çš„å»¶ç»­ï¼Œåœ¨<code>CameraModeBase</code>çš„åŸºç¡€ä¸Šæ·»åŠ äº†ç›¸æœºè‡‚çš„ä¸€äº›æ“ä½œã€‚</li>
<li>ç›¸æœºè‡‚åœ¨è¿›è¡Œè§†è§’å˜åŒ–æˆ–è€…ç›¸æœºè‡‚çš„é•¿åº¦è¿›è¡Œå˜åŒ–æ—¶ï¼Œå¤šæ•°æ˜¯å»ä¿®æ”¹ä»–çš„é…ç½®å‚æ•°ï¼Œç„¶åå†<code>Updata</code>ä¸­è¿›è¡Œæ›´æ–°</li>
</ul>
<h1 id="terraindetecting">TerrainDetecting</h1>
<p>ä¿æŒç›¸æœºå’Œåœ°é¢å¹³è¡Œ,ä¾‹å¦‚ä¸Šå¡çš„æ—¶å€™å¾€ä¸Šçœ‹ï¼Œä¸‹å¡çš„æ—¶å€™å¾€ä¸‹çœ‹ã€‚è¡¨ç°æ•ˆæœä¸ºåœ¨æ¸¸æˆè¿‡ç¨‹ä¸­é¼ æ ‡æ“ä½œé—´éš”nç§’æ²¡æœ‰æ“ä½œä¹‹åè§†çº¿è‡ªåŠ¨å›å½’é…ç½®çš„ä½ç½®ã€‚</p>
<h1 id="camerasplinemovecomponent">CameraSplineMoveComponent</h1>
<p>å¯ä»¥å°†ç»„ä»¶æŒ‚è½½åˆ°Actorä¸Šé…åˆè“å›¾ä¸­çš„<code>BP_CameraTrigger</code>å’Œ<code>NSplineActor</code>ä½¿ç”¨ã€‚</p>
<h1 id="å·²çŸ¥é—®é¢˜">å·²çŸ¥é—®é¢˜</h1>
<p>ç›®å‰ç›¸æœºè‡‚æ¨¡å¼ä¸­ä¸æ”¯æŒåœ¨éPawnçš„Actorä¸ŠæŒ‚åœ¨ç›¸æœºç»„ä»¶å¹¶ä¸”è¿›è¡Œè§†è§’æ™ƒåŠ¨ã€‚å› ä¸ºåœ¨<code>UpdateCameraRotation</code>å‡½æ•°ä¸­è¿›è¡Œäº†Pawnçš„åˆ¤å®š</p>
<p>å¿«é€Ÿæ™ƒåŠ¨è§†è§’ç›¸æœºä¼šå‡ºç°å¡é¡¿çš„æƒ…å†µã€‚å¯èƒ½æƒ…å†µï¼š</p>
<blockquote>
<p>1ã€æ—‹è½¬å€¼ç”±0åˆ°360çš„è¿‡ç¨‹å˜æˆäº†0åˆ°-360å‡ºç°åå‘æ—‹è½¬ã€‚</p>
<p>2ã€å‘å³æ—‹è½¬è¿‡ç¨‹ä¸­æœ‰ä¸€ç§ç¼“å‡ºçš„è¿‡æ¸¡æ•ˆæœï¼Œè¿™æ—¶å€™çªç„¶å‘å·¦ç§»åŠ¨ï¼Œè¿‡åº¦æ•ˆæœæ²¡æœ‰æ¶ˆå¤±ï¼Œå‡ºç°å†²çªã€‚</p>
</blockquote>
<h1 id="other">Other</h1>
<ol>
<li><code>TOptional</code>æ¨¡æ¿ç±»æ˜¯ä¸“é—¨åº”ç”¨äºæ ‡è®°ä¸€ä¸ªå˜é‡æ˜¯å¦è¢«èµ‹å€¼ã€‚<code>IsSet()</code>å‡½æ•°ï¼š<code>TOptional&lt;float&gt; TargetArmLen</code>  å½“å€¼æœ‰æ„ä¹‰æ—¶ä¸ºçœŸï¼›å¦‚æœè°ƒç”¨ Get Value() æœªå®šä¹‰ï¼Œåˆ™è¿”å› falseã€‚<code>Reset()</code>å‡½æ•°ï¼šé…åˆ<code>IsSet()</code>å‡½æ•°ä½¿ç”¨ï¼Œå°†<code>IsSet</code>å˜é‡è®¾ç½®ä¸ºå‡ã€‚</li>
</ol>
]]></content>
    </entry>
</feed>